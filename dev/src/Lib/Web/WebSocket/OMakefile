WEBSOCKET_SRC = $(SRC_DIR)Lib/Web/WebSocket/
WEBSOCKET_OBJ = $(OBJ_DIR)Lib/Web/WebSocket/

libwebsockets.h:
	if $(not $(file-exists $(WEBSOCKET_OBJ)libwebsockets/README.md))
		cd($(WEBSOCKET_OBJ), $(system git clone git://git.libwebsockets.org/libwebsockets))
	cd($(WEBSOCKET_OBJ)libwebsockets, $(system cmake .))
	cd($(WEBSOCKET_OBJ)libwebsockets, $(system make))
	cp($(WEBSOCKET_OBJ)libwebsockets/lws_config.h $(WEBSOCKET_OBJ))
	cp($(WEBSOCKET_OBJ)libwebsockets/lib/libwebsockets.h $(WEBSOCKET_OBJ))
	cp($(WEBSOCKET_OBJ)libwebsockets/lib/libwebsockets.a $(WEBSOCKET_OBJ))

WebSocket.o: libwebsockets.h

RivaModule(Web/WebSocket, WebSocket)