ZEROMQ_SRC = $(SRC_DIR)Lib/Web/ZeroMQ/
ZEROMQ_OBJ = $(OBJ_DIR)Lib/Web/ZeroMQ/

libzmq.a:
	if $(not $(file-exists $(ZEROMQ_OBJ)zeromq/ChangeLog))
		mkdir(-p $(ZEROMQ_OBJ)zeromq)
		cd($(ZEROMQ_OBJ)zeromq, $(system wget -nv http://download.zeromq.org/zeromq-4.1.4.tar.gz -O- | tar xvzP --strip-components=1))
	cd($(ZEROMQ_OBJ)zeromq, $(system ./configure --without-libsodium))
	cd($(ZEROMQ_OBJ)zeromq, $(system make))
	cp($(ZEROMQ_OBJ)zeromq/.libs/libzmq.a $(ZEROMQ_OBJ))

ZeroMQ.o: libzmq.a

RivaModule(Web/ZeroMQ, ZeroMQ)