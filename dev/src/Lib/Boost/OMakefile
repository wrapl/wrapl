BOOST_SRC = $(SRC_DIR)Lib/Boost/
BOOST_OBJ = $(OBJ_DIR)Lib/Boost/

BOOST_CFLAGS = -fdata-sections -ffunction-sections -static -static-libgcc
BOOST_CXXFLAGS = -I$(DEV_INC)gcc -include Riva/Memory.h -fdata-sections -ffunction-sections -static -static-libgcc

if $(equal $(SYSNAME), CYGWIN_NT-5.1)
	BOOST_CFLAGS += -DWINDOWS
	BOOST_CXXFLAGS += -DWINDOWS
	export

$(BOOST_INC): OMakefile
#	if $(not $(file-exists $(BOOST_SRC)boost/INSTALL))
#		mkdir(-p $(BOOST_SRC)boost)
#		cd($(BOOST_SRC)boost, $(system wget -nv http://downloads.sourceforge.net/project/boost/boost/$(BOOSTVER)/boost_$(_BOOSTVER).tar.gz -O- | tar xvzP --strip-components=1))
#	if $(not $(file-exists $(BOOST_OBJ)include))
#		cd($(BOOST_SRC)boost, $(system ./bootstrap.sh --prefix=$(absname $(BOOST_OBJ))))
#		cd($(BOOST_SRC)boost, $(system ./bjam --clean))
#		cd($(BOOST_SRC)boost, $(system ./bjam install cflags="$(BOOST_CFLAGS)" cxxflags="$(BOOST_CXXFLAGS)" threading=multi variant=release link=static runtime-link=static --prefix=$(absname $(BOOST_OBJ))))

BOOST_INC =

$(OUT_LIB)Boost/DateTime.riva: $(BOOST_INC)
$(OUT_LIB)Boost/FileSystem.riva: $(BOOST_INC) $(OUT_LIB)Boost/System.riva
$(OUT_LIB)Boost/Graph.riva: $(BOOST_INC) $(OUT_LIB)Boost/Regex.riva
$(OUT_LIB)Boost/IOStreams.riva: $(BOOST_INC)
$(OUT_LIB)Boost/ProgramOptions.riva: $(BOOST_INC)
$(OUT_LIB)Boost/Python.riva: $(BOOST_INC)
$(OUT_LIB)Boost/Regex.riva: $(BOOST_INC)
$(OUT_LIB)Boost/Serialization.riva: $(BOOST_INC)
$(OUT_LIB)Boost/Signals.riva: $(BOOST_INC)
$(OUT_LIB)Boost/System.riva: $(BOOST_INC)
$(OUT_LIB)Boost/Thread.riva: $(BOOST_INC)
$(OUT_LIB)Boost/Wave.riva: $(BOOST_INC) $(OUT_LIB)Boost/Thread.riva

LDFLAGS += -d Riva/Memory.rlib libstdc++.rlib

RivaModuleAuto(Boost/DateTime, dso_handle)
RivaModuleAuto(Boost/FileSystem, dso_handle)
RivaModuleAuto(Boost/Graph, dso_handle)
RivaModuleAuto(Boost/IOStreams, dso_handle)
RivaModuleAuto(Boost/ProgramOptions, dso_handle)
RivaModuleAuto(Boost/Python, dso_handle)
RivaModuleAuto(Boost/Regex, dso_handle)
RivaModuleAuto(Boost/Serialization, dso_handle)
#RivaModuleAuto(Boost/Signals, dso_handle)
RivaModuleAuto(Boost/System, dso_handle)
RivaModuleAuto(Boost/Thread, dso_handle)
RivaModuleAuto(Boost/Wave, dso_handle)
