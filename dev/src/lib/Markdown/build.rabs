MD4C_VERSION := "0.2.7"

var MD4C_SOURCE := file("md4c.c") => fun(Target) do
	execute('wget https://github.com/mity/md4c/archive/release-{MD4C_VERSION}.tar.gz -O- | tar xvzP')
	execute('cp md4c-release-{MD4C_VERSION}/md4c/md4c.* .')
end 

var MD4C_HEADER := file("md4c.h")[MD4C_SOURCE] => fun(Target) nil

CFLAGS := old + ['-I{PATH}']

riva_module("Markdown/Parser", [file("Parser.o"), file("md4c.o")])
--wrapl_module("Markdown")